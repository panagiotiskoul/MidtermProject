<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A Hiking Trip Booking & Equipement Rental Website">
    <meta name="author" content="Panos North">
    <title>North Hiking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="images/Site_Logo/favicon.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="taskstyles.css"> <!-- Link to external CSS -->
</head>


<body>
    <script>
        $(document).ready(function() {
            // When mouse enters the logo image
            $(".navbar-brand img").hover(
                    function() {
                        $(this).attr("src", "./images/Site_Logo/logo-hover.png"); // Change to hover image
                    }, 
                    function() {
                        $(this).attr("src", "./images/Site_Logo/logo.png"); // Change back to original image
                    }
                );
        });
    </script>


    <header>
        <nav id="navbar" class="navbar navbar-expand-md navbar-light bg-light sticky-top">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html">
                    <img src="./images/Site_Logo/logo.png" alt="North Hiking Logo" class="logo-img">
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav d-flex flex-grow-1 justify-content-between text-center navlinks">                      
                        <li class="nav-item flex-fill"><a class="nav-link" aria-current="page" href="index.html">Home</a></li>
                        <li class="nav-item flex-fill"><a class="nav-link" href="trips.html">Trips</a></li>
                        <li class="nav-item flex-fill"><a class="nav-link active" href="tasks.html">Tasks</a></li>
                        <li class="nav-item flex-fill"><a class="nav-link" href="about.html">About</a></li>
                        <li class="nav-item flex-fill"><a class="nav-link" href="contact.html">Contact</a></li>
                    </ul>
                    
                    <!-- Dark Mode Toggle Button -->
                    <div class="dark-mode-container ">
                        <button id="darkModeToggle" class="btn btn-primary" type="button">Dark</button>
                    </div>
                    
                    <form class="d-flex justify-content-center" role="search">
                        <input class="form-control me-2 searchnav" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <!-- Darkmode Script -->
    <script>
        $(document).ready(function(){
            // Check if dark mode is enabled from localStorage and apply it
            if(localStorage.getItem("darkMode") === "enabled") {
                $("body").addClass("dark-background");
                $("p, h1, h2, h3, h4, h5, h6").addClass("light-text");
                $("#navbar").addClass("navbar-dark bg-dark").removeClass("navbar-light bg-light");
                $("#welcome").addClass("welcome-box-dark").removeClass("welcome-box");
                $("#footer").addClass("footer-dark");
                $("#darkModeToggle").text("Light");
            }

            // Handle button click for dark mode toggle
            $("#darkModeToggle").click(function(){
                // Toggle classes for dark mode
                $("#navbar").toggleClass("navbar-light navbar-dark bg-light bg-dark");

                // Toggle background color of the page
                $("body").toggleClass("dark-background");

                // Toggle text color for paragraphs and headers
                $("p, h1, h2, h3, h4, h5, h6").toggleClass("light-text");

                // Toggle welcome-box classes for the #welcome div
                $("#welcome").toggleClass("welcome-box-dark welcome-box");

                // Toggle footer-dark class on footer
                $("#footer").toggleClass("footer-dark");

                // Change the button text between "Dark" and "Light"
                var buttonText = $("#darkModeToggle").text().trim();
                if (buttonText === "Dark") {
                    $("#darkModeToggle").text("Light");
                    localStorage.setItem("darkMode", "enabled"); // Save dark mode state
                } else {
                    $("#darkModeToggle").text("Dark");
                    localStorage.setItem("darkMode", "disabled"); // Save dark mode state
                }
            });
        });
    </script>


    

    <div class="itemsmargins">
        <main class="container mt-4">
            <!-- Form for adding items -->
            <div class="form-container">
                <h3 class="text-center">Create your Checklist</h3>
                <form id="itemForm">
    
                    <div class="row">
                        <!-- Trip Date (this will be selected once) -->
                        <div class="col-md-6 mb-3">
                            <label for="tripDate" class="form-label">Select Trip Date:</label>
                            <input type="date" id="tripDate" name="tripDate" class="form-control" required>
                        </div>
                    </div>
    
                    <!-- Grid layout for Item Name, Quantity, Priority, Description -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="itemName">Item Name:</label>
                            <input type="text" id="itemName" name="itemName" class="form-control" required>
                        </div>
    
                        <div class="col-md-3 mb-3">
                            <label for="quantity">Quantity:</label>
                            <input type="number" id="quantity" name="quantity" class="form-control" required min="1">
                        </div>
    
                        <div class="col-md-3 mb-3">
                            <label for="priority">Priority:</label>
                            <select id="priority" name="priority" class="form-select" required>
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Low">Low</option>
                            </select>
                        </div>
    
                        <div class="col-md-12">
                            <label for="itemDesc">Description:</label>
                            <input type="text" id="itemDesc" name="itemDesc" class="form-control" required>
                        </div>
                    </div><br>
    
                    <button type="button" id="addItemBtn" class="btn btn-primary">Add Item</button>
                    <button type="button" id="updateItemBtn" class="btn btn-warning" style="display:none;">Update Item</button>
                </form>
            </div>
    
            <!-- Item Table -->
            <h3>Item List</h3>
            <table class="table items">
                <thead>
                    <tr>
                        <th>Complete</th>
                        <th>Item Name</th>
                        <th>Description</th>
                        <th>Trip Date</th>
                        <th>Quantity</th>
                        <th>Priority</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="itemTable">
                    <!-- New rows will be added here -->
                </tbody>
            </table>







            <h3>Item Status Overview</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>Item Status</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody id="statusTable">
                    <tr>
                        <td>Packed Items</td>
                        <td id="packedCount">0</td>
                    </tr>
                    <tr>
                        <td>Pending Items</td>
                        <td id="pendingCount">0</td>
                    </tr>
                    <tr>
                        <td>Total Items</td>
                        <td id="totalCount">0</td>
                    </tr>
                </tbody>
            </table>










    
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script>
                $(document).ready(function () {
                    var selectedTripDate = ""; // Variable to store selected Trip Date
                    var selectedRow = null; // To keep track of the selected row for editing
                    var packedItemsCount = 0; // Track the number of packed items
                    var pendingItemsCount = 0; // Track the number of pending items
    
                    // Listen for Trip Date selection
                    $("#tripDate").change(function() {
                        selectedTripDate = $(this).val(); // Store the selected trip date
                    });
    
                    // Add Item Button
                    $("#addItemBtn").click(function () {
                        var itemName = $("#itemName").val();
                        var itemDesc = $("#itemDesc").val();
                        var quantity = $("#quantity").val();
                        var priority = $("#priority").val();
                        var tripDate = selectedTripDate;
                        pendingItemsCount++; // Increment pending items count
    
                        // Validate if all fields are filled
                        if (itemName && itemDesc && tripDate && quantity && priority) {
                            var rowClass = "";
                            if (priority === "High") {
                                rowClass = "table-danger"; // Red for high priority
                            } else if (priority === "Medium") {
                                rowClass = "table-warning"; // Yellow for medium priority
                            } else if (priority === "Low") {
                                rowClass = "table-success"; // Green for low priority
                            }
    
                            // Create a new row with a checkbox to mark as completed
                            var newRow = `<tr class="${rowClass}">
                                <td><input type="checkbox" class="completeCheckbox"></td>
                                <td>${itemName}</td>
                                <td>${itemDesc}</td>
                                <td>${tripDate}</td>
                                <td>${quantity}</td>
                                <td>${priority}</td>
                                <td><button class="btn btn-warning editBtn">Edit</button> 
                                    <button class="btn btn-danger deleteBtn">Delete</button>
                                </td>
                            </tr>`;
    
                            // Append the new row to the table
                            $("#itemTable").append(newRow);
    
                            // Clear the form fields, but keep the trip date
                            $("#itemForm")[0].reset();
                            $("#tripDate").val(selectedTripDate);
    
                            // Update the counts after adding an item
                            updateItemCounts();
                        } else {
                            alert("Please fill in all the fields.");
                        }
                    });
    
                    // Edit Item Button
                    $(document).on("click", ".editBtn", function() {
                        selectedRow = $(this).closest("tr");
    
                        // Populate the form with the current row's data
                        $("#itemName").val(selectedRow.find("td:eq(1)").text());
                        $("#itemDesc").val(selectedRow.find("td:eq(2)").text());
                        $("#quantity").val(selectedRow.find("td:eq(4)").text());
                        $("#priority").val(selectedRow.find("td:eq(5)").text());
                        $("#tripDate").val(selectedRow.find("td:eq(3)").text());
    
                        // Change the Add button to Update button
                        $("#addItemBtn").hide();
                        $("#updateItemBtn").show();
                    });
    
                    // Update Item Button (Handles Update)
                    $("#updateItemBtn").click(function() {
                        var itemName = $("#itemName").val();
                        var itemDesc = $("#itemDesc").val();
                        var quantity = $("#quantity").val();
                        var priority = $("#priority").val();
                        var tripDate = $("#tripDate").val();
    
                        if (selectedRow) {
                            selectedRow.find("td:eq(1)").text(itemName);
                            selectedRow.find("td:eq(2)").text(itemDesc);
                            selectedRow.find("td:eq(3)").text(tripDate);
                            selectedRow.find("td:eq(4)").text(quantity);
                            selectedRow.find("td:eq(5)").text(priority);
    
                            var rowClass = "";
                            if (priority === "High") {
                                rowClass = "table-danger";
                            } else if (priority === "Medium") {
                                rowClass = "table-warning";
                            } else if (priority === "Low") {
                                rowClass = "table-success";
                            }
    
                            selectedRow.removeClass("table-danger table-warning table-success");
                            selectedRow.addClass(rowClass);
    
                            $("#updateItemBtn").hide();
                            $("#addItemBtn").show();
    
                            $("#itemForm")[0].reset();
                            $("#tripDate").val(selectedTripDate);
    
                            updateItemCounts();
                        } else {
                            alert("Please select an item to update.");
                        }
                    });
    
                    // Delete Item Button
                    $(document).on("click", ".deleteBtn", function() {
                        $(this).closest("tr").remove();
                        updateItemCounts(); // Update the counts after deleting an item
                    });
    
                    // Track completion status of the tasks
                    $(document).on("change", ".completeCheckbox", function() {
                        var isCompleted = $(this).prop("checked");
                        var row = $(this).closest("tr");
    
                        if (isCompleted) {
                            row.addClass("table-success");
                            packedItemsCount++; // Increment packed items count
                            pendingItemsCount--; // Decrement pending items count
                        } else {
                            row.removeClass("table-success");
                            packedItemsCount--; // Decrement packed items count
                            pendingItemsCount++; // Increment pending items count
                        }
    
                        // Update the counts after completion status change
                        updateItemCounts();
                    });
    
                    // Function to update the counts (Packed, Pending, Total)
                    function updateItemCounts() {
                        var totalItemsCount = packedItemsCount + pendingItemsCount;
    
                        // Update the table with the current counts
                        $("#packedCount").text(packedItemsCount);
                        $("#pendingCount").text(pendingItemsCount);
                        $("#totalCount").text(totalItemsCount);
                    }
    
                });
            </script>
        </main>
    </div>
    
    
    
    
    

    
    
    







    <!-- Footer -->
    <footer id="footer" class="text-center text-lg-start text-muted">
  
        <!-- Section: Links  -->
        <section class="">
            <div class="container mt-5">
            <!-- Grid row -->
                <div class="row mt-3">
                    <!-- Grid column -->
                    <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                        <!-- Content -->
                        <h6 class="text-uppercase fw-bold mb-4">
                            <i class="fa-solid fa-mountain"></i>&nbsp;&nbsp;North Hiking
                        </h6>
                        <p>
                            <a href="#" class="text-reset">FAQ</a>
                        </p>
                        <p>
                            <a href="#" class="text-reset">Privacy Policy</a>
                        </p>
                        <p>
                            <a href="#" class="text-reset">Terms & Conditions</a>
                        </p>
                        <p>
                            <a href="#" class="text-reset">Legal Notice</a>
                        </p>
                    </div>

                    <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                        <h6 class="text-uppercase fw-bold mb-4">
                            Navigation
                        </h6>
                        <p>
                            <a href="index.html" class="text-reset">Home</a>
                        </p>
                        <p>
                            <a href="trips.html" class="text-reset">Trips</a>
                        </p>
                        <p>
                            <a href="tasks.html" class="text-reset">Tasks</a>
                        </p>
                        <p>
                            <a href="about.html" class="text-reset">About</a>
                        </p>
                        <p>
                            <a href="contact.html" class="text-reset">Contact</a>
                        </p>
                    </div>
                    <!-- Grid column -->

                    <!-- Social Media Links -->
                    <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                        <!-- Links -->
                            <h6 class="text-uppercase fw-bold mb-4">
                                Social Media
                            </h6>
                            <p>
                                <a href="https://www.facebook.com/" class="text-reset">Facebook</a>
                                <i class="fab fa-facebook-f"></i>
                            </p>
                            <p>
                                <a href="https://www.instagram.com/" class="text-reset">Instagram</a>
                                <i class="fab fa-instagram"></i>
                            </p>
                            <p>
                                <a href="https://www.tiktok.com/" class="text-reset">TikTok</a>
                                <i class="fab fa-tiktok"></i>
                            </p>
                        </div>
                        <!-- Grid column -->
        
                    <!-- Grid column -->
                    <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                        <!-- Links -->
                        <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                        <p><i class="fas fa-home me-3"></i> Athens, 12649, Greece</p>
                        <p>
                            <i class="fas fa-envelope me-3"></i>
                            north_hiking@gmail.com
                        </p>
                        <p><i class="fas fa-phone me-3"></i> +30 210 810 2994</p>
                    </div>
                    <!-- Grid column -->
                </div>
                <!-- Grid row -->

                <!-- Copyright -->
                <div class="text-center">
                    © 2025 Copyright: Panos North
                </div>
                <!-- Copyright -->
            </div>

        </section>
        <!-- Section: Links  -->
    
    </footer>
    <!-- Footer -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
